{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\ovi_port_website\\\\app\\\\pages\\\\contact.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from \"react\";\nimport \"../static/styles/_contactForm.scss\";\nimport BaseLayout from \"../components/BaseLayout\";\nimport { Row, Col, Spinner } from \"react-bootstrap\";\nimport validator from \"validator\";\nimport fetch from \"isomorphic-unfetch\";\nimport { useSelector } from \"react-redux\";\n\nfunction createHTMLMail(name, email, msg) {\n  return \"\\n    <br/><br/>\\n    &nbsp;&nbsp;&nbsp;<h3>New Email from: \".concat(name.toUpperCase(), \"</h3>\\n    <h3>Email: \").concat(email, \"</h3>\\n    <br/><br/>\\n    Message:\\n    <div>\").concat(msg, \"</div>\\n    \\n\\n    <br/> <br/>\\n    \");\n}\n\nfunction sendMail(_x) {\n  return _sendMail.apply(this, arguments);\n}\n\nfunction _sendMail() {\n  _sendMail = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(data) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", fetch(\"/api/sendMail\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: _JSON$stringify({\n                payload: {\n                  data: data\n                }\n              })\n            }).then(function (r) {\n              return r.json();\n            }).then(function (data) {\n              return data;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendMail.apply(this, arguments);\n}\n\nvar Contact = function Contact() {\n  var _useState = useState([]),\n      err = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState({\n    msg: \"Send Message\",\n    isSending: false\n  }),\n      isSendingEmail = _useState2[0],\n      setIsSendingEmail = _useState2[1];\n\n  var ruduxStore = useSelector(function (state) {\n    return state;\n  }); // console.log(ruduxStore);\n\n  var name = useRef(\"\");\n  var email = useRef(\"\");\n  var msg = useRef(\"\");\n\n  function onSubmit(e) {\n    e.preventDefault();\n    var errMsg = [];\n    validator.isEmpty(name.current.value) && errMsg.push(\"Invalid Name\");\n    !validator.isEmail(email.current.value) && errMsg.push(\"Invalid Email\");\n    validator.isEmpty(msg.current.value) && errMsg.push(\"Empty Msg\");\n\n    if (errMsg.length === 0) {\n      var data = {\n        emailToAddress: \"lucut_ovidiu@yahoo.com\",\n        emailSubject: \"New Email from My PortFolio Website\",\n        emailMsg: createHTMLMail(name.current.value, email.current.value, msg.current.value)\n      };\n      setIsSendingEmail({\n        msg: \"Send Message\",\n        isSending: true\n      });\n      sendMail(data).then(function (data) {\n        if (data.wasError === \"true\") {\n          setIsSendingEmail({\n            msg: \"There was an internal server Error\",\n            isSending: false\n          });\n        } else {\n          setIsSendingEmail({\n            msg: \"Message Sent\",\n            isSending: false\n          });\n          name.current.value = \"\";\n          email.current.value = \"\";\n          msg.current.value = \"\";\n        }\n      });\n    } else setError(errMsg);\n  }\n\n  return __jsx(BaseLayout, {\n    tab: \"Contact\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1060047105\" + \" \" + \"main_wrapper_contact\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1060047105\" + \" \" + \"contact_form_main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1060047105\" + \" \" + \"contact_form_wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    role: \"alert\",\n    className: \"jsx-1060047105\" + \" \" + ((err.length > 0 ? \"alert alert-danger contact_form_err_msg\" : \"alert alert-danger contact_form_err_msg hidden\") || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, err[0])), __jsx(\"h1\", {\n    className: \"jsx-1060047105\" + \" \" + \"contact_form_title p-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Contact \", __jsx(\"span\", {\n    style: {\n      color: \"#01c851\"\n    },\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Me\")), __jsx(Col, {\n    sm: {\n      span: 8,\n      offset: 2\n    },\n    className: \"pt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: onSubmit,\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-1060047105\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    required: true,\n    ref: name,\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"jsx-1060047105\" + \" \" + \"bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), __jsx(\"label\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Name\")), __jsx(\"div\", {\n    className: \"jsx-1060047105\" + \" \" + \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    defaultValue: ruduxStore.isAuthenticaticated ? ruduxStore.loggedInUser : \"\",\n    required: true,\n    ref: email,\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"jsx-1060047105\" + \" \" + \"bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }), __jsx(\"label\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Email\")), __jsx(\"textarea\", {\n    rows: \"4\",\n    placeholder: \"Message\",\n    required: true,\n    ref: msg,\n    className: \"jsx-1060047105\" + \" \" + \"input_text_area col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, __jsx(Col, {\n    md: {\n      span: 12,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, !isSendingEmail.isSending ? __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-1060047105\" + \" \" + \"btn btn-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, isSendingEmail.msg) : __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-1060047105\" + \" \" + \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Loading...\")))))), __jsx(\"br\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    className: \"jsx-1060047105\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })))), __jsx(_JSXStyle, {\n    id: \"1060047105\",\n    __self: this\n  }, \".main_wrapper_contact.jsx-1060047105{position:relative;min-height:100vh;background:radial-gradient( circle closest-corner at center, rgba(34,34,34,0.918), black 70% ) no-repeat;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxvdmlfcG9ydF93ZWJzaXRlXFxhcHBcXHBhZ2VzXFxjb250YWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9La0IsQUFJNkIsa0JBQ0QsaUJBUU4seUdBUWIiLCJmaWxlIjoiQzpcXHhhbXBwXFxodGRvY3NcXG92aV9wb3J0X3dlYnNpdGVcXGFwcFxccGFnZXNcXGNvbnRhY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgXCIuLi9zdGF0aWMvc3R5bGVzL19jb250YWN0Rm9ybS5zY3NzXCI7XHJcbmltcG9ydCBCYXNlTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL0Jhc2VMYXlvdXRcIjtcclxuaW1wb3J0IHsgUm93LCBDb2wsIFNwaW5uZXIgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XHJcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSBcInZhbGlkYXRvclwiO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtdW5mZXRjaFwiO1xyXG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlSFRNTE1haWwobmFtZSwgZW1haWwsIG1zZykge1xyXG4gIHJldHVybiBgXHJcbiAgICA8YnIvPjxici8+XHJcbiAgICAmbmJzcDsmbmJzcDsmbmJzcDs8aDM+TmV3IEVtYWlsIGZyb206ICR7bmFtZS50b1VwcGVyQ2FzZSgpfTwvaDM+XHJcbiAgICA8aDM+RW1haWw6ICR7ZW1haWx9PC9oMz5cclxuICAgIDxici8+PGJyLz5cclxuICAgIE1lc3NhZ2U6XHJcbiAgICA8ZGl2PiR7bXNnfTwvZGl2PlxyXG4gICAgXHJcblxyXG4gICAgPGJyLz4gPGJyLz5cclxuICAgIGA7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmRNYWlsKGRhdGEpIHtcclxuICByZXR1cm4gZmV0Y2goXCIvYXBpL3NlbmRNYWlsXCIsIHtcclxuICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBwYXlsb2FkOiB7IGRhdGEgfVxyXG4gICAgfSlcclxuICB9KVxyXG4gICAgLnRoZW4ociA9PiByLmpzb24oKSlcclxuICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBDb250YWN0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtlcnIsIHNldEVycm9yXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbaXNTZW5kaW5nRW1haWwsIHNldElzU2VuZGluZ0VtYWlsXSA9IHVzZVN0YXRlKHtcclxuICAgIG1zZzogXCJTZW5kIE1lc3NhZ2VcIixcclxuICAgIGlzU2VuZGluZzogZmFsc2VcclxuICB9KTtcclxuICBjb25zdCBydWR1eFN0b3JlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUpO1xyXG4gIC8vIGNvbnNvbGUubG9nKHJ1ZHV4U3RvcmUpO1xyXG4gIGNvbnN0IG5hbWUgPSB1c2VSZWYoXCJcIik7XHJcbiAgY29uc3QgZW1haWwgPSB1c2VSZWYoXCJcIik7XHJcbiAgY29uc3QgbXNnID0gdXNlUmVmKFwiXCIpO1xyXG5cclxuICBmdW5jdGlvbiBvblN1Ym1pdChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc3QgZXJyTXNnID0gW107XHJcbiAgICB2YWxpZGF0b3IuaXNFbXB0eShuYW1lLmN1cnJlbnQudmFsdWUpICYmIGVyck1zZy5wdXNoKFwiSW52YWxpZCBOYW1lXCIpO1xyXG4gICAgIXZhbGlkYXRvci5pc0VtYWlsKGVtYWlsLmN1cnJlbnQudmFsdWUpICYmIGVyck1zZy5wdXNoKFwiSW52YWxpZCBFbWFpbFwiKTtcclxuICAgIHZhbGlkYXRvci5pc0VtcHR5KG1zZy5jdXJyZW50LnZhbHVlKSAmJiBlcnJNc2cucHVzaChcIkVtcHR5IE1zZ1wiKTtcclxuICAgIGlmIChlcnJNc2cubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgIGVtYWlsVG9BZGRyZXNzOiBcImx1Y3V0X292aWRpdUB5YWhvby5jb21cIixcclxuICAgICAgICBlbWFpbFN1YmplY3Q6IFwiTmV3IEVtYWlsIGZyb20gTXkgUG9ydEZvbGlvIFdlYnNpdGVcIixcclxuICAgICAgICBlbWFpbE1zZzogY3JlYXRlSFRNTE1haWwoXHJcbiAgICAgICAgICBuYW1lLmN1cnJlbnQudmFsdWUsXHJcbiAgICAgICAgICBlbWFpbC5jdXJyZW50LnZhbHVlLFxyXG4gICAgICAgICAgbXNnLmN1cnJlbnQudmFsdWVcclxuICAgICAgICApXHJcbiAgICAgIH07XHJcbiAgICAgIHNldElzU2VuZGluZ0VtYWlsKHtcclxuICAgICAgICBtc2c6IFwiU2VuZCBNZXNzYWdlXCIsXHJcbiAgICAgICAgaXNTZW5kaW5nOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZW5kTWFpbChkYXRhKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIGlmIChkYXRhLndhc0Vycm9yID09PSBcInRydWVcIikge1xyXG4gICAgICAgICAgc2V0SXNTZW5kaW5nRW1haWwoe1xyXG4gICAgICAgICAgICBtc2c6IFwiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBFcnJvclwiLFxyXG4gICAgICAgICAgICBpc1NlbmRpbmc6IGZhbHNlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0SXNTZW5kaW5nRW1haWwoe1xyXG4gICAgICAgICAgICBtc2c6IFwiTWVzc2FnZSBTZW50XCIsXHJcbiAgICAgICAgICAgIGlzU2VuZGluZzogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbmFtZS5jdXJyZW50LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgIGVtYWlsLmN1cnJlbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgbXNnLmN1cnJlbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Ugc2V0RXJyb3IoZXJyTXNnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QmFzZUxheW91dCB0YWI9XCJDb250YWN0XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbl93cmFwcGVyX2NvbnRhY3RcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhY3RfZm9ybV9tYWluXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhY3RfZm9ybV93cmFwcGVyXCI+XHJcbiAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcclxuICAgICAgICAgICAgICAgICAgZXJyLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGNvbnRhY3RfZm9ybV9lcnJfbXNnXCJcclxuICAgICAgICAgICAgICAgICAgICA6IFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGNvbnRhY3RfZm9ybV9lcnJfbXNnIGhpZGRlblwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByb2xlPVwiYWxlcnRcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHtlcnJbMF19XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiY29udGFjdF9mb3JtX3RpdGxlIHAtMlwiPlxyXG4gICAgICAgICAgICAgIENvbnRhY3QgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwiIzAxYzg1MVwiIH19Pk1lPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2gxPlxyXG4gICAgICAgICAgICA8Q29sIHNtPXt7IHNwYW46IDgsIG9mZnNldDogMiB9fSBjbGFzc05hbWU9XCJwdC00XCI+XHJcbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e29uU3VibWl0fT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcmVxdWlyZWQgcmVmPXtuYW1lfSAvPlxyXG4gICAgICAgICAgICAgICAgICB7LyogPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIiAvPiAqL31cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFyXCIgLz5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsPk5hbWU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtcclxuICAgICAgICAgICAgICAgICAgICAgIHJ1ZHV4U3RvcmUuaXNBdXRoZW50aWNhdGljYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJ1ZHV4U3RvcmUubG9nZ2VkSW5Vc2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17ZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiIC8+ICovfVxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWw+RW1haWw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0X3RleHRfYXJlYSBjb2xcIlxyXG4gICAgICAgICAgICAgICAgICByb3dzPVwiNFwiXHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWVzc2FnZVwiXHJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgIHJlZj17bXNnfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICA8Um93PlxyXG4gICAgICAgICAgICAgICAgICA8Q29sIG1kPXt7IHNwYW46IDEyLCBvZmZzZXQ6IDIgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyFpc1NlbmRpbmdFbWFpbC5pc1NlbmRpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2Vzc1wiIHR5cGU9XCJzdWJtaXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2lzU2VuZGluZ0VtYWlsLm1zZ31cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBhbmltYXRpb249XCJib3JkZXJcIiByb2xlPVwic3RhdHVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Mb2FkaW5nLi4uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9TcGlubmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0gbWFpbiB3cmFwcGVyIC0tLS0tLS0tLS0tLS1cclxuICAgICAgICAubWFpbl93cmFwcGVyX2NvbnRhY3Qge1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tIGdyYWRpZW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiAjNDg1NDYxO1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KFxyXG4gICAgICAgICAgICAgIGNpcmNsZSBjbG9zZXN0LWNvcm5lciBhdCBjZW50ZXIsXHJcbiAgICAgICAgICAgICAgcmdiYSgzNCwgMzQsIDM0LCAwLjkxOCksXHJcbiAgICAgICAgICAgICAgYmxhY2sgNzAlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgbm8tcmVwZWF0O1xyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSBncmFkaWVudCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgIC8vIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWcvcG9ydGZvbGlvc19tYWluMy5qcGcpO1xyXG4gICAgICAgICAgLy8gYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wO1xyXG4gICAgICAgICAgLy8gYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgICAgIC8vIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgICAgICAvLyAgIG1hcmdpbi10b3A6IDcwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tIG1haW4gd3JhcHBlciAtLS0tLS0tLS0tLS0tXHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvQmFzZUxheW91dD5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udGFjdDtcclxuIl19 */\\n/*@ sourceURL=C:\\\\xampp\\\\htdocs\\\\ovi_port_website\\\\app\\\\pages\\\\contact.js */\"));\n};\n\nexport default Contact;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\ovi_port_website\\app\\pages\\contact.js"],"names":["React","useState","useRef","BaseLayout","Row","Col","Spinner","validator","fetch","useSelector","createHTMLMail","name","email","msg","toUpperCase","sendMail","data","method","headers","body","payload","then","r","json","Contact","err","setError","isSending","isSendingEmail","setIsSendingEmail","ruduxStore","state","onSubmit","e","preventDefault","errMsg","isEmpty","current","value","push","isEmail","length","emailToAddress","emailSubject","emailMsg","wasError","color","span","offset","isAuthenticaticated","loggedInUser"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport \"../static/styles/_contactForm.scss\";\r\nimport BaseLayout from \"../components/BaseLayout\";\r\nimport { Row, Col, Spinner } from \"react-bootstrap\";\r\nimport validator from \"validator\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction createHTMLMail(name, email, msg) {\r\n  return `\r\n    <br/><br/>\r\n    &nbsp;&nbsp;&nbsp;<h3>New Email from: ${name.toUpperCase()}</h3>\r\n    <h3>Email: ${email}</h3>\r\n    <br/><br/>\r\n    Message:\r\n    <div>${msg}</div>\r\n    \r\n\r\n    <br/> <br/>\r\n    `;\r\n}\r\n\r\nasync function sendMail(data) {\r\n  return fetch(\"/api/sendMail\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({\r\n      payload: { data }\r\n    })\r\n  })\r\n    .then(r => r.json())\r\n    .then(data => {\r\n      return data;\r\n    });\r\n}\r\n\r\nconst Contact = () => {\r\n  const [err, setError] = useState([]);\r\n  const [isSendingEmail, setIsSendingEmail] = useState({\r\n    msg: \"Send Message\",\r\n    isSending: false\r\n  });\r\n  const ruduxStore = useSelector(state => state);\r\n  // console.log(ruduxStore);\r\n  const name = useRef(\"\");\r\n  const email = useRef(\"\");\r\n  const msg = useRef(\"\");\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const errMsg = [];\r\n    validator.isEmpty(name.current.value) && errMsg.push(\"Invalid Name\");\r\n    !validator.isEmail(email.current.value) && errMsg.push(\"Invalid Email\");\r\n    validator.isEmpty(msg.current.value) && errMsg.push(\"Empty Msg\");\r\n    if (errMsg.length === 0) {\r\n      let data = {\r\n        emailToAddress: \"lucut_ovidiu@yahoo.com\",\r\n        emailSubject: \"New Email from My PortFolio Website\",\r\n        emailMsg: createHTMLMail(\r\n          name.current.value,\r\n          email.current.value,\r\n          msg.current.value\r\n        )\r\n      };\r\n      setIsSendingEmail({\r\n        msg: \"Send Message\",\r\n        isSending: true\r\n      });\r\n      sendMail(data).then(data => {\r\n        if (data.wasError === \"true\") {\r\n          setIsSendingEmail({\r\n            msg: \"There was an internal server Error\",\r\n            isSending: false\r\n          });\r\n        } else {\r\n          setIsSendingEmail({\r\n            msg: \"Message Sent\",\r\n            isSending: false\r\n          });\r\n          name.current.value = \"\";\r\n          email.current.value = \"\";\r\n          msg.current.value = \"\";\r\n        }\r\n      });\r\n    } else setError(errMsg);\r\n  }\r\n\r\n  return (\r\n    <BaseLayout tab=\"Contact\">\r\n      <div className=\"main_wrapper_contact\">\r\n        <div className=\"contact_form_main\">\r\n          <div className=\"contact_form_wrapper\">\r\n            <Row>\r\n              <div\r\n                className={\r\n                  err.length > 0\r\n                    ? \"alert alert-danger contact_form_err_msg\"\r\n                    : \"alert alert-danger contact_form_err_msg hidden\"\r\n                }\r\n                role=\"alert\"\r\n              >\r\n                {err[0]}\r\n              </div>\r\n            </Row>\r\n            <h1 className=\"contact_form_title p-2\">\r\n              Contact <span style={{ color: \"#01c851\" }}>Me</span>\r\n            </h1>\r\n            <Col sm={{ span: 8, offset: 2 }} className=\"pt-4\">\r\n              <form onSubmit={onSubmit}>\r\n                <div className=\"group\">\r\n                  <input type=\"text\" required ref={name} />\r\n                  {/* <span class=\"highlight\" /> */}\r\n                  <span className=\"bar\" />\r\n                  <label>Name</label>\r\n                </div>\r\n\r\n                <div className=\"group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    defaultValue={\r\n                      ruduxStore.isAuthenticaticated\r\n                        ? ruduxStore.loggedInUser\r\n                        : \"\"\r\n                    }\r\n                    required\r\n                    ref={email}\r\n                  />\r\n                  {/* <span class=\"highlight\" /> */}\r\n                  <span className=\"bar\" />\r\n                  <label>Email</label>\r\n                </div>\r\n\r\n                <textarea\r\n                  className=\"input_text_area col\"\r\n                  rows=\"4\"\r\n                  placeholder=\"Message\"\r\n                  required\r\n                  ref={msg}\r\n                />\r\n                <br />\r\n                <br />\r\n                <Row>\r\n                  <Col md={{ span: 12, offset: 2 }}>\r\n                    {!isSendingEmail.isSending ? (\r\n                      <button className=\"btn btn-success\" type=\"submit\">\r\n                        {isSendingEmail.msg}\r\n                      </button>\r\n                    ) : (\r\n                      <Spinner animation=\"border\" role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </Spinner>\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n              </form>\r\n            </Col>\r\n            <br />\r\n            <br />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        // -------------- main wrapper -------------\r\n        .main_wrapper_contact {\r\n          position: relative;\r\n          min-height: 100vh;\r\n          // ------------------- gradient -----------------------\r\n          // background-color: #485461;\r\n          background: radial-gradient(\r\n              circle closest-corner at center,\r\n              rgba(34, 34, 34, 0.918),\r\n              black 70%\r\n            )\r\n            no-repeat;\r\n          // ------------------- gradient -----------------------\r\n\r\n          // background-image: url(../img/portfolios_main3.jpg);\r\n          // background-position: top;\r\n          // background-repeat: no-repeat;\r\n          // background-size: cover;\r\n          //   margin-top: 70px;\r\n        }\r\n        // -------------- main wrapper -------------\r\n      `}</style>\r\n    </BaseLayout>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n"]},"metadata":{},"sourceType":"module"}